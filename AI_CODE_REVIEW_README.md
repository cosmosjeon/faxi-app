# FAXI MVP - AI 코드 리뷰 가이드

## 🎯 프로젝트 상태 및 목표
**현재 단계**: MVP (최소 기능 제품) - 시장 검증을 위한 빠른 출시 목표
**개발 방식**: AI 기반 Vibe 코딩으로 빠른 프로토타이핑 완료
**우선순위**: 기능 안정성 > 코드 품질 > 성능 최적화 > 보안

## ⚠️ 코드 리뷰 원칙 (중요!)
1. **오버 엔지니어링 금지**: MVP에 불필요한 복잡한 패턴이나 구조 지양
2. **기능 보존 최우선**: 현재 작동하는 기능을 절대 망가뜨리지 않기
3. **레거시 코드 정리**: AI가 생성한 불필요하게 긴 코드 간소화
4. **초보자 친화적**: 모든 코드에 이해하기 쉬운 주석 추가
5. **빠른 배포 중심**: 완벽함보다 작동하는 코드 우선

## 📊 현재 구현 상태

### ✅ 완료된 기능
1. **인증**: Google/Kakao OAuth, 세션 관리, 자동 리디렉션
2. **메시징**: 텍스트/이미지/LCD 티저 전송, 실시간 수신
3. **친구 관리**: 친구 추가/검색, 친한친구 시스템
4. **프린터 UI**: Mock 프린터 시스템, 연결 상태 표시, 프린트 큐

### 🚧 진행중인 작업
1. **블루투스 프린터 실제 연결** (오픈 프로토콜)
2. **PWA 배포 설정**
3. **Google Play 스토어 래핑**

### ❌ MVP에서 제외
- 테스트 코드
- 고급 보안 기능
- 성능 최적화 (추후 진행)

## 🔍 AI 코드 리뷰 시 집중 포인트

### 1. Vibe 코딩 문제점 체크리스트
```typescript
// ❌ 전형적인 AI 생성 코드 문제
- 불필요한 try-catch 중첩
- 과도한 null 체크와 방어적 코딩
- 중복된 상태 관리 로직
- 사용하지 않는 import와 변수
- 과도하게 추상화된 유틸리티 함수
- 불필요한 useEffect와 리렌더링

// ✅ 개선 방향
- 필요한 에러 처리만 유지
- 간결한 조건문 사용
- 중복 제거 및 통합
- 실제 사용하는 코드만 유지
```

### 2. 블루투스 프린터 관련 검토사항
```typescript
// 체크포인트
- Web Bluetooth API 브라우저 호환성 (Chrome PWA)
- 오픈 프로토콜 프린터 연결 플로우
- Mock과 실제 프린터 전환 용이성
- 연결 실패 시 복구 로직
- 프린트 큐 관리 안정성
```

### 3. Supabase 무료 티어 고려사항
```typescript
// 제한사항 체크
- Realtime 연결 수: 200 동시 연결
- Database 용량: 500MB
- Storage 용량: 1GB
- API 요청: 무제한 (rate limit 있음)

// 최적화 포인트
- 불필요한 realtime 구독 제거
- 이미지 크기 제한 (5MB)
- 오래된 메시지 정리 로직
```

## 📁 폴더별 리뷰 가이드

### `/src/app` - 페이지 컴포넌트
**중점사항**: 
- 페이지 간 네비게이션 정상 작동
- 인증 미들웨어 올바른 동작
- 불필요한 서버 컴포넌트 사용 제거

### `/src/components` - UI 컴포넌트
**중점사항**:
- Shadcn/ui 컴포넌트 올바른 사용
- 불필요한 리렌더링 방지
- 모바일 반응형 디자인 유지

### `/src/features` - 비즈니스 로직
**중점사항**:
- API 호출 에러 처리 간소화
- 중복된 데이터 페칭 제거
- 타입 정의 실용성

### `/src/hooks` - 커스텀 훅
**중점사항**:
- useEffect 클린업 함수 확인
- 메모리 누수 방지
- 훅 의존성 배열 정확성

### `/src/stores` - 전역 상태
**중점사항**:
- Zustand 스토어 간소화
- 불필요한 전역 상태 제거
- 로컬 스토리지 동기화 확인

## 🐛 자주 발견되는 문제와 해결법

### 1. 과도한 상태 관리
```typescript
// ❌ 문제: 너무 많은 상태
const [loading, setLoading] = useState(false);
const [error, setError] = useState(null);
const [data, setData] = useState(null);
const [isSubmitting, setIsSubmitting] = useState(false);

// ✅ 해결: 단순화
const [state, setState] = useState({ 
  loading: false, 
  error: null, 
  data: null 
});
```

### 2. 불필요한 useEffect
```typescript
// ❌ 문제: 과도한 useEffect
useEffect(() => { fetchData(); }, []);
useEffect(() => { updateUI(); }, [data]);
useEffect(() => { logAnalytics(); }, [data]);

// ✅ 해결: 통합 가능한 것은 통합
useEffect(() => {
  fetchData();
  // 나머지는 fetchData 내부에서 처리
}, []);
```

### 3. 중복된 API 호출
```typescript
// ❌ 문제: 여러 컴포넌트에서 동일 API 호출
// ✅ 해결: 상위 컴포넌트에서 한 번만 호출하고 props로 전달
```

## 📝 코드 리뷰 템플릿

각 폴더 리뷰 시 다음 형식으로 피드백 요청:

```
## 폴더: /src/[폴더명]

### 1. 현재 기능 동작 확인
- [ ] 모든 기능이 정상 작동하는가?
- [ ] UI/UX가 변경되지 않았는가?

### 2. 코드 간소화
- [ ] 중복 코드 제거
- [ ] 불필요한 추상화 제거
- [ ] 사용하지 않는 코드 제거

### 3. 주석 추가
- [ ] 복잡한 로직에 설명 추가
- [ ] 함수 목적 명시
- [ ] TODO 사항 표시

### 4. 문제점 발견
- 발견된 버그:
- 성능 이슈:
- 개선 제안:
```

## 🚀 다음 단계 작업

1. **블루투스 프린터 연동**
   - Chrome PWA 환경에서 Web Bluetooth API 테스트
   - 오픈 프로토콜 프린터 연결 구현
   - Mock에서 실제 프린터로 전환

2. **PWA 배포**
   - manifest.json 설정
   - Service Worker 기본 설정
   - 오프라인 기능 (최소한)

3. **Google Play 래핑**
   - TWA (Trusted Web Activity) 설정
   - 앱 서명 및 배포 준비

## ⚡ 성능 최적화는 나중에!
MVP 단계에서는 다음 사항들을 **고려하지 않습니다**:
- 복잡한 메모이제이션
- 코드 스플리팅
- 이미지 최적화 (기본만)
- 복잡한 캐싱 전략

---

**기억하세요**: 지금은 "완벽한 코드"가 아닌 "작동하는 제품"이 목표입니다. 
시장 검증 후 성공하면 그때 리팩토링하면 됩니다! 🎯