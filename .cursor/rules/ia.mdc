---
alwaysApply: false
---
# FAXI Information Architecture (IA)

## 1. Site Map (사이트맵)

```
FAXI App
├── 인증 영역
│   ├── 로그인 화면 (구글/카카오 소셜 로그인)
│   └── 온보딩 화면 (서비스 소개 + 프린터 연결 가이드)
│
├── 메인 영역 (로그인 후 접근)
│   ├── 🏠 홈 (대시보드)
│   │   ├── 새 메시지 알림 목록
│   │   ├── 메시지 보내기 바로가기 버튼
│   │   └── 내 사진 출력하기 바로가기 버튼
│   │
│   ├── 👥 친구
│   │   ├── 친구 목록
│   │   ├── 친한 친구 관리
│   │   ├── 친구 추가 (ID 검색)
│   │   └── 친구 요청 관리
│   │
│   ├── 📤 전송
│   │   ├── 친구 선택
│   │   ├── 메시지 작성 (텍스트 + 티저)
│   │   ├── 사진 선택 및 편집
│   │   └── 전송 확인
│   │
│   ├── 🖨️ 프린터
│   │   ├── BLE 프린터 연결
│   │   ├── 프린터 상태 확인
│   │   ├── 프린트 히스토리 로그
│   │   ├── 내 사진 프린트
│   │   └── 테스트 프린트
│   │
│   └── ⚙️ 설정
│       ├── 내 프로필 관리
│       ├── 알림 설정 (기능적/마케팅)
│       ├── 계정 관리
│       └── 로그아웃

```

## 2. User Flow (사용자 흐름)

### 🎯 핵심 태스크 1: 메시지 전송 및 수신

1. 홈 화면에서 "메시지 보내기" 버튼 클릭
2. 전송 탭으로 이동 → 친구 선택
3. 메시지 작성 (텍스트 최대 200자 + 티저 10자)
4. 사진 첨부 시: 갤러리 접근 → 사진 선택 → 크롭/회전 편집
5. 전송 버튼 클릭 → 서버 저장
6. **수신자 측**:
    - 친한 친구: 푸시 알림 → 자동 프린트 실행
    - 일반 친구: 푸시 알림 → 승인/거부 선택 → 승인 시 프린트

### 🎯 핵심 태스크 2: 프린터 연동 (BLE)

1. 프린터 탭 진입
2. "프린터 연결하기" 버튼 클릭
3. BLE 스캔 시작 → 프린터 검색
4. 프린터 선택 → 페어링 요청
5. 연결 성공 → 상태 표시 업데이트
6. 테스트 프린트로 연결 확인

### 🎯 핵심 태스크 3: 내 사진 즉시 인쇄

1. 홈 화면 "내 사진 출력" 버튼 또는 프린터 탭 "내 사진 프린트"
2. 카메라 롤 접근 권한 확인
3. 사진 선택 → 편집 화면 (크롭/회전/문구 삽입)
4. "프린트" 버튼 클릭 → BLE 연결 확인
5. 프린트 명령 전송 → 출력 완료

## 3. Navigation Structure (네비게이션 구조)

### 📱 하단 탭바 (Bottom Tab Navigation)

- **위치**: 화면 하단 고정
- **높이**: 80px (Safe Area 포함)
- **탭 구성**: 5개 주요 탭
- **활성 색상**: #2F3437 (Primary Color)
- **비활성 색상**: #9CA3AF (Medium Gray)

### 🎯 탭별 세부 구조

| 탭 | 아이콘 | 주요 기능 | 하위 페이지 |
| --- | --- | --- | --- |
| 홈 | 🏠 | 대시보드, 빠른 액션 | 메시지 알림, 바로가기 |
| 친구 | 👥 | 친구 관리 | 목록, 추가, 친한친구 설정 |
| 전송 | 📤 | 메시지 전송 | 친구선택, 작성, 편집, 전송 |
| 프린터 | 🖨️ | 하드웨어 관리 | 연결, 상태, 히스토리, 테스트 |
| 설정 | ⚙️ | 계정 및 앱 설정 | 프로필, 알림, 계정관리 |

## 4. Page Hierarchy (페이지 계층 구조)

```
/ (Depth 1)
├── /auth (Depth 1)
│   ├── /auth/login (Depth 2)
│   └── /auth/onboarding (Depth 2)
│
├── /home (Depth 1)
│
├── /friends (Depth 1)
│   ├── /friends/list (Depth 2)
│   ├── /friends/add (Depth 2)
│   ├── /friends/close (Depth 2)
│   └── /friends/requests (Depth 2)
│
├── /send (Depth 1)
│   ├── /send/select-friend (Depth 2)
│   ├── /send/compose (Depth 2)
│   ├── /send/edit-photo (Depth 2)
│   └── /send/confirm (Depth 2)
│
├── /printer (Depth 1)
│   ├── /printer/connect (Depth 2)
│   ├── /printer/status (Depth 2)
│   ├── /printer/history (Depth 2)
│   ├── /printer/my-photos (Depth 2)
│   └── /printer/test (Depth 2)
│
└── /settings (Depth 1)
    ├── /settings/profile (Depth 2)
    ├── /settings/notifications (Depth 2)
    ├── /settings/account (Depth 2)
    └── /settings/help (Depth 2)

```

## 5. Content Organization (콘텐츠 구성)

| 페이지 | 주요 콘텐츠 요소 | 우선순위 |
| --- | --- | --- |
| **홈** | 새 메시지 카드, CTA 버튼(메시지 보내기/내 사진 출력), 프린터 연결 상태 | High |
| **친구 목록** | 친구 아바타, 이름, 온라인 상태, 친한친구 뱃지, 검색바 | High |
| **친구 추가** | ID 검색 입력필드, 검색 결과 리스트, 친구 요청 버튼 | Medium |
| **친한 친구 설정** | 친구 목록에서 ‘친한친구 요청’ 버튼, 상태 표시 (요청 중/친한 친구 뱃지), 친한친구 해제 | Medium |
| **전송 - 친구 선택** | 친구 리스트, 친한친구 필터, 선택 체크박스 | High |
| **전송 - 메시지 작성** | 텍스트 입력 (200자), 티저 입력 (10자), 사진 첨부 버튼, 전송 버튼 | High |
| **전송 - 사진 편집** | 이미지 프리뷰, 크롭 도구, 회전 버튼, 문구 삽입 필드 | Medium |
| **프린터 연결** | BLE 스캔 버튼, 검색된 기기 리스트, 연결 상태 표시, 도움말 | High |
| **프린터 상태** | 연결 상태 뱃지, 배터리 정보 | Medium |
| **프린트 히스토리** | 출력 기록 리스트, 날짜/시간, 성공/실패 상태 | Low |
| **내 사진 프린트** | 갤러리 접근, 사진 그리드, 편집 도구, 즉시 프린트 버튼 | Medium |
| **설정 - 프로필** | 프로필 사진, 닉네임 편집, ID 표시, 계정 연동 정보 | Medium |
| **설정 - 알림** | 기능적 알림 토글, 마케팅 알림 토글 | Low |
| **설정 - 도움말** | 외부 도움말 링크로 이동 | Low |

## 6. Interaction Patterns (인터랙션 패턴)

### 🎯 핵심 인터랙션 패턴

**메시지 수신 처리**

- 친한 친구: 푸시 알림(앱 외부)과 동시에 자동 프린트 → 성공/실패 토스트 메시지(앱 내부라면), 성공/실패 푸시 알림(앱 외부)
- 일반 친구: 푸시 알림(앱 외부), 스낵바 알림(앱 내부) → "프린트/거절" 선택

**BLE 연결 상태**

- 연결 중: 로딩 스피너 + "프린터를 찾고 있어요" 메시지
- 연결 성공: 체크 애니메이션 + 그린 컬러 상태 변경
- 연결 실패: 에러 아이콘 + "다시 시도하기" 버튼

**사진 편집**

- 핀치 줌/팬 제스처로 크롭 영역 조정
- 회전 버튼 탭으로 90도 단위 회전
- 텍스트 오버레이를 위한 더블 탭 입력

**친구 관리**

- 친구 리스트 항목 구조
    - 왼쪽: 프로필 사진 + 친구 이름
    - 오른쪽: `친한 친구 신청` 버튼
        - 상태별 표시:
            - `[친한 친구 신청]`: 최초 상태
            - `[신청됨]`: 신청 보낸 후 대기 중
            - `[수락 대기]`: 수신자가 아직 응답하지 않음
            - `✅ 친한 친구`: 수락 완료 시 뱃지로 표시
- 길게 누르기
    - 친구 옵션 메뉴 팝업:
        - `차단`
        - `삭제`
        - `친한 친구 신청 취소` (내가 신청한 경우에만 활성화)

**폼 유효성 검사**

- 실시간 입력 검증 (200자 제한, 티저 10자 제한)
- 에러 상태 시 빨간 테두리 + 도움말 텍스트

## 7. URL Structure (URL 구조)

### 📱 PWA 기반 라우팅 구조

```
<https://app.faxi.com/>

# 인증
/auth/login
/auth/onboarding

# 메인 기능
/home
/friends
/friends/add
/friends/:friendId/profile
/send
/send/compose/:friendId
/printer
/printer/connect
/printer/history
/settings
/settings/profile
/settings/notifications

# 동적 라우팅
/message/:messageId/detail
/print/:printId/status

```

## 8. Component Hierarchy (컴포넌트 계층 구조)

### 🌐 글로벌 컴포넌트

- **AppLayout**: 전체 레이아웃 래퍼
- **BottomTabNavigation**: 하단 탭 네비게이션
- **Header**: 페이지별 헤더 (뒤로가기, 제목, 액션 버튼)
- **LoadingSpinner**: 로딩 상태 표시
- **ToastMessage**: 성공/에러 알림
- **BottomSheet**: 모달 형태의 옵션 선택
- **ConfirmDialog**: 확인/취소 다이얼로그

### 📱 페이지별 전용 컴포넌트

**홈 화면**

- `MessageNotificationCard`: 새 메시지 알림 카드
- `QuickActionButton`: 빠른 액션 버튼 (메시지 보내기/사진 출력)
- `PrinterStatusWidget`: 프린터 연결 상태 위젯

**친구 관리**

- `FriendListItem`: 친구 목록 아이템 (아바타, 이름, 상태)
- `FriendSearchBar`: 친구 검색 입력 필드
- `CloseFriendToggle`: 친한친구 설정 토글
- `FriendRequestCard`: 친구 요청 카드

**메시지 전송**

- `FriendSelector`: 친구 선택 체크리스트
- `MessageComposer`: 메시지 작성 폼
- `PhotoEditor`: 사진 편집 도구
- `CharacterCounter`: 글자 수 카운터

**프린터 관리**

- `BLEDeviceList`: BLE 기기 검색 결과
- `PrinterStatusIndicator`: 연결 상태 표시기
- `PrintHistoryItem`: 프린트 히스토리 아이템
- `TestPrintButton`: 테스트 프린트 버튼

**공통 폼 컴포넌트**

- `TextInput`: 텍스트 입력 필드
- `Button`: 기본/보조 버튼
- `ImagePicker`: 이미지 선택기
- `StatusBadge`: 상태 표시 뱃지
- `Card`: 기본 카드 컴포넌트

### 🎨 디자인 시스템 연동

모든 컴포넌트는 Design Guide의 색상 팔레트와 타이포그래피를 따르며, 8px 그리드 시스템을 기반으로 일관된 간격과 크기를 유지합니다. Notion 스타일의 미니멀한 디자인 철학에 맞춰 시각적 방해 요소를 최소화하고 사용자가 핵심 기능에 집중할 수 있도록 구성되었습니다.

---
