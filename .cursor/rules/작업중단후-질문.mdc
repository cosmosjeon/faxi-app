---
alwaysApply: true
---

# 사용자 개입 규칙 (USER INTERVENTION RULES)

## 다음 상황에서는 **작업을 중단하고 사용자에게 물어보세요**:

### 핵심 결정 사항
- 아키텍처 / 프레임워크 선택
- 데이터베이스 스키마 설계
- API 구조 결정
- 보안 / 인증 구현
- 라이브러리 선택

### 외부 의존 요소
- 환경 변수 (.env 값)
- 데이터베이스 자격 증명
- API 키 / 비밀키
- 서버 설정
- 배포 환경 설정

### 비즈니스 로직 관련
- 비즈니스 규칙의 세부사항
- 사용자 권한 / 역할
- 유효성 검사 규칙
- 워크플로우 절차
- 에러 처리 방식

### 데이터베이스 작업
- 수동 데이터 삽입
- 사용자 / 권한 설정
- SQL 스크립트 실행
- DB 설정 변경
- 데이터 마이그레이션

### 시스템 / 터미널 관련 문제
- 명령어가 3회 이상 실패할 때
- 권한 오류
- 포트 / 프로세스 충돌
- 패키지 설치 실패
- 환경 특이적 문제

### AI의 한계 상황
- 동일 오류가 3회 이상 반복될 때
- 시스템 환경을 파악할 수 없을 때
- 외부 서비스 인증 실패
- 복잡한 의존성 충돌

---

## ✅ **3회 실패 규칙 (3-STRIKE RULE)**  
같은 작업이 **연속 3회 실패**하면 즉시 작업을 중단하고 사용자에게 물어보세요.

---

## 📩 사용자 요청 템플릿 (REQUEST FORMAT)
- STOP - 사용자 입력 필요

- 문제: [간단한 설명]
- 필요사항: [무엇이 필요한지]
- 시도한 것: [시도한 해결책]
- 에러: [마지막 오류 메시지]

- 옵션:
- [옵션 1]
- [옵션 2]
- 결정 기다리는 중입니다


---

## ✅ 사용자 응답 후 재개 메시지 (RESUME FORMAT)

- 사용자의 입력이 도착하면 다음과 같이 작성:
- 입력 받음. 계속 진행합니다...


